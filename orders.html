<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="icon" type="image/png" href="logo.png">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aphrelle - Orders</title>
    <link href="https://fonts.cdnfonts.com/css/glacial-indifference-2" rel="stylesheet" />
  <style>
    body {
      margin: 0;
      padding: 0;
      height: 100%;
            background: linear-gradient(135deg, #f7f3e3 0%, #f2e7d3 100%);
            font-family: 'Glacial Indifference', sans-serif;
            color: #333;
    }

    .orders-container {
            max-width: 800px;
      margin: 40px auto;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 12px;
      padding: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            position: relative;
            backdrop-filter: blur(12px);
            color: #eee;
    }

    h1 {
            color: #ff9800;
      text-align: center;
            margin-bottom: 30px;
      font-size: 2rem;
            font-weight: 500;
    }

        .order-item {
      display: flex;
            align-items: center;
            border-bottom: 1px solid #eee;
            padding: 20px 0;
    }

        .item-image {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            background: #ffc107;
            color: #333;
            border-radius: 8px;
            margin-right: 20px;
    }

        .item-details {
            flex: 1;
        }

        .item-details p {
            margin: 4px 0;
            color: #ddd;
            font-size: 0.9rem;
        }

        .status {
      font-weight: 600;
            margin-top: 5px;
    }

        .status.active {
            color: #ff9800;
    }

        .status.completed {
            color: #00c853;
        }

        .status.cancelled {
            color: #e53935;
        }

        .order-actions {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .btn {
            padding: 10px 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
            font-weight: 500;
            font-size: 0.9rem;
            transition: background 0.3s ease;
    }

        .btn-shipment {
            background: #fff;
            color: #ff9800;
            border: 1px solid #ff9800;
    }

        .btn-shipment:hover {
            background: #ff9800;
            color: #fff;
        }

        .btn-reorder {
            background: #673ab7;
  color: white;
        }

        .btn-reorder:hover {
            background: #512da8;
        }

        .cancel-btn {
            background: #e53935;
            color: #fff;
        }

        .cancel-btn:hover {
            background: #d32f2f;
        }

        .cancel-btn[disabled] {
            background: #888;
            cursor: not-allowed;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal .modal-content {
            background: rgba(0, 0, 0, 0.8);
            color: #eee;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            text-align: center;
            max-width: 500px;
            width: 90%;
        }

        .modal h2 {
            color: #ff9800;
            margin-bottom: 20px;
        }

        #shipmentProgress {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        #shipmentProgress .step {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        #shipmentProgress .step .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ddd;
        }

        #shipmentProgress .step.completed .dot {
            background: #4caf50;
        }

        #shipmentProgress .step .label {
            font-size: 1rem;
            color: #666;
        }

        #shipmentProgress .step.completed .label {
            color: #333;
        }

        .back-arrow {
            position: absolute;
            top: 0;
            left: 0;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            color: #eee;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            transition: background 0.3s ease;
            margin: 10px;
        }

        .back-arrow:hover {
            background: rgba(255, 255, 255, 0.15);
        }
    </style>
</head>

<body>
    <div class="orders-container">
        <span onclick="goBack()" class="back-arrow">‚Üê</span>
        <h1>Your Orders</h1>
        <div id="ordersList"></div>
</div>

    <div id="shipmentModal" class="modal">
        <div class="modal-content">
            <h2>Shipment Status</h2>
            <div id="shipmentProgress"></div>
            <button onclick="closeShipmentModal()" class="btn">Close</button>
        </div>
        </div>

    <div id="cancelConfirmModal" class="modal">
        <div class="modal-content">
            <p style="margin-bottom: 20px;">
                Are you sure you want to cancel this order?
            </p>
            <button onclick="confirmCancel()" class="btn" style="background: #ff4d4d; color: white;">
                Yes, Cancel
            </button>
            <button onclick="closeCancelModal()" class="btn" style="background: #ccc; color: black;">
                No
            </button>
        </div>
    </div>

    <script>
        const orders = [{
                id: 1,
                title: 'Premium Cotton T-Shirt',
                brand: 'Organic Co.',
                size: 'M',
                color: 'Black',
                price: 49.99,
                quantity: 1,
                icon: 'üëï',
                status: 'active'
            },
            {
                id: 2,
                title: 'Slim Fit Jeans',
                brand: 'Denim Pro',
                size: '32',
                color: 'Blue',
                price: 89.99,
                quantity: 1,
                icon: 'üëñ',
                status: 'completed'
            },
            {
                id: 3,
                title: 'Summer Dress',
                brand: 'StyleZone',
                size: 'S',
                color: 'Floral',
                price: 129.99,
                quantity: 1,
                icon: 'üëó',
                status: 'cancelled'
            },
        ];

        function renderOrders() {
            const container = document.getElementById('ordersList');
            container.innerHTML = '';

            orders.forEach((order, i) => {
                const div = document.createElement('div');
                div.className = 'order-item';
                div.innerHTML = `
            <div class="item-image">${order.icon}</div>
            <div class="item-details">
              <p><strong>${order.title}</strong></p>
              <p>${order.brand}</p>
              <p>Size: ${order.size}, Color: ${order.color}</p>
              <p>Price: $${order.price}</p>
              <p>Qty: ${order.quantity}</p>
              <p class="status ${order.status}">Status: ${order.status.charAt(0).toUpperCase() + order.status.slice(1)}</p>
            </div>
            <div class="order-actions">
              <button onclick="reorderItem(${i})" class="btn btn-reorder">Reorder</button>
              <button class="btn cancel-btn" onclick="cancelOrder(${i})" ${order.status !== 'active' ? 'disabled' : ''}>Cancel Order</button>
              <button onclick="trackShipment(${i})" class="btn btn-shipment">Track Shipment</button>
            </div>
    `;
                container.appendChild(div);
            });
        }

        let cancelIndex = null;

        function cancelOrder(index) {
            if (orders[index].status === 'active') {
                cancelIndex = index;
                document.getElementById('cancelConfirmModal').style.display = 'flex';
            }
        }

        function confirmCancel() {
            if (cancelIndex !== null) {
                orders[cancelIndex].status = 'cancelled';
  renderOrders();
                localStorage.setItem('orders', JSON.stringify(orders));
                closeCancelModal();
            }
        }

        function closeCancelModal() {
            cancelIndex = null;
            document.getElementById('cancelConfirmModal').style.display = 'none';
        }

        function trackShipment(orderIndex) {
            const stages = [{
                    step: 'Ordered',
                    completed: true
                },
                {
                    step: 'Shipped',
                    completed: true
                },
                {
                    step: 'Out for Delivery',
                    completed: false
                },
                {
                    step: 'Delivered',
                    completed: false
                }
            ];

            const shipmentProgress = document.getElementById('shipmentProgress');
            shipmentProgress.innerHTML = '';

            stages.forEach(stage => {
                const stepDiv = document.createElement('div');
                stepDiv.className = 'step';
                stepDiv.innerHTML = `
            <div class="dot ${stage.completed ? 'completed' : ''}"></div>
            <div class="label ${stage.completed ? 'completed' : ''}">${stage.step}</div>
          `;
                shipmentProgress.appendChild(stepDiv);
            });

            document.getElementById('shipmentModal').style.display = 'flex';
        }

        function closeShipmentModal() {
            document.getElementById('shipmentModal').style.display = 'none';
        }

        function reorderItem(index) {
            const item = orders[index];

            const cart = JSON.parse(localStorage.getItem('cart')) || [];

            cart.push({
                title: item.title,
                brand: item.brand,
                price: item.price,
                size: item.size,
                color: item.color,
                image: "",
                quantity: item.quantity || 1
            });

            localStorage.setItem('cart', JSON.stringify(cart));
            window.location.href = "cart.html";
        }

        function goBack() {
            if (document.referrer !== "") {
                window.history.back();
            } else {
                window.location.href = "recommendations.html";
            }
        }

        renderOrders();
</script>
</body>

</html>
